# 生命周期-网络请求-后端接口-渲染模式

class 组件的生命周期

创建 /lifecycle/index.tsx 中，在其中使用 react 的类组件。

src\pages\lifecycle-class.tsx

```tsx
import React, { PureComponent } from 'react'

export class LifecycleClass extends PureComponent {
  constructor(props: any) {
    super(props)
    console.log('constructor~')
  }

  UNSAFE_componentWillMount(): void {
    console.log('UNSAFE_componentWillMount~')
  }

  componentDidMount(): void {
    console.log('componentDidMount~')
  }

  componentWillUnmount(): void {
    console.log('componentWillUnmount~')
  }

  render() {
    console.log('render~');
    
    return <div>LifecycleClass</div>
  }
}

export default LifecycleClass
```

在 _app.tsx 中，添加路由链接。

测试客户端和服务器端，分别会执行哪些生命周期？



创建 lifecycle-func.tsx 组件，用于测试函数式组件中的生命周期。

src\pages\lifecycle-func.tsx

```tsx
import React, { memo, useEffect } from 'react'
import type { FC, ReactNode } from 'react'

interface IProps {
  children?: ReactNode
}
const LifecycleFunc: FC<IProps> = memo(props => {
  console.log('func body~'); // 服务端，客户端，执行
  
  useEffect(() => {
    console.log('useEffect mounted~') // 客户端，执行

    return () => {
      console.log('useEffect unmounted~'); // 客户端，执行
    }
  })

  return <div>LifecycleFunc</div>
})

LifecycleFunc.displayName = 'LifecycleFunc'

export default LifecycleFunc
```

在 _app.tsx 中，添加路由链接。

---

网络请求

axios 封装。

在 /src 目录下，创建 /service/index.ts 文件。在其中封装 axios



在 /pages 下，创建 fetch.tsx 文件。用于测试



在 _app.tsx 中，添加路由链接。

